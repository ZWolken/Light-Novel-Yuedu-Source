[
  {
    "bookSourceComment": "建议登录\n整理修改缝合：GitHub@ZWolken\n灰色章节修复目录部分By叶落岚起+关耳/乃星改2021.8.3\n补丁 : 神秘人\n修复搜索问题\n修复发现榜单没图的问题\n修复章节内图片问题\n改为繁体站，需要VPN",
    "bookSourceGroup": "日轻小说(2024-2-18)\nGitHub@ZWolken",
    "bookSourceName": "哔哩轻小说(tw)",
    "bookSourceType": 0,
    "bookSourceUrl": "https://tw.linovelib.com/",
    "bookUrlPattern": "",
    "coverDecodeJs": "",
    "customOrder": -88951550,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": true,
    "exploreUrl": "[{'title':'全部榜单','url':'','style':{layout_flexGrow:1,layout_flexBasisPercent:1}},\n{'title':'点击总榜','url':'/wenku/allvisit_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'点击月榜','url':'/wenku/monthvisit_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'点击周榜','url':'/wenku/weekvisit_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'推荐总榜','url':'/wenku/allvote_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'推荐月榜','url':'/wenku/monthvote_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'推荐周榜','url':'/wenku/weekvote_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'完结总点','url':'/wenku/allvisit_0_0_0_0_0_0_5_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'完结月点','url':'/wenku/monthvisit_0_0_0_0_0_0_5_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'完结周点','url':'/wenku/weekvisit_0_0_0_0_0_0_5_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'完结总推','url':'/wenku/allvote_0_0_0_0_0_0_5_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'完结月推','url':'/wenku/monthvote_0_0_0_0_0_0_5_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'完结周推','url':'/wenku/weekvote_0_0_0_0_0_0_5_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'收藏榜单','url':'/wenku/goodnum_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'字数榜单','url':'/wenku/words_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'新书榜单','url':'/wenku/postdate_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'更新榜单','url':'/wenku/lastupdate_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'编辑推荐','url':'/wenku/toptime_0_0_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'','url':'','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'全部文库','url':'','style':{layout_flexGrow:1,layout_flexBasisPercent:1}},\n{'title':'电击文库','url':'/wenku/lastupdate_0_1_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'角川文库','url':'/wenku/lastupdate_0_3_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'少女文库','url':'/wenku/lastupdate_0_12_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'GA文库','url':'/wenku/lastupdate_0_6_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'HJ文库','url':'/wenku/lastupdate_0_7_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'MF文库J','url':'/wenku/lastupdate_0_4_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'富士见文库','url':'/wenku/lastupdate_0_2_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'Fami通文库','url':'/wenku/lastupdate_0_5_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'小学馆','url':'/wenku/lastupdate_0_10_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'集英社','url':'/wenku/lastupdate_0_9_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'讲谈社','url':'/wenku/lastupdate_0_11_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'一迅社','url':'/wenku/lastupdate_0_8_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'其他文库','url':'/wenku/lastupdate_0_13_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'轻改漫画','url':'/wenku/lastupdate_0_15_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}},\n{'title':'华文轻小说','url':'/wenku/lastupdate_0_14_0_0_0_0_0_{{page}}_0.html','style':{layout_flexGrow:1,layout_flexBasisPercent:0.25}}]",
    "header": "{\n  \"User-Agent\": \"Mobile\",\n  \"Referer\": \"https://tw.linovelib.com/\"\n}",
    "lastUpdateTime": 1708245915592,
    "loginCheckJs": "",
    "loginUi": "[\n  {\n    \"name\": \"账号\",\n    \"type\": \"text\"\n  },\n  {\n    \"name\": \"密码\",\n    \"type\": \"password\"\n  }\n]",
    "loginUrl": "@js:\nfunction login() {\n  let une = source.getLoginInfoMap().get(\"账号\")\n  let pwd = source.getLoginInfoMap().get(\"密码\")\n  if (une && pwd) {\n    let body = String('username=' + une + '&password=' + pwd + '&usecookie=315360000&action=login')\n    let url = source.bookSourceUrl + '/login.php'\n    let ck = java.post(url, body, { \"Content-Type\": \"application/x-www-form-urlencoded\" }).cookies()\n    let header = JSON.stringify({\n      \"Cookie\": String(ck).match(/\\{(.*?)\\}/)[1].replace(/,/g, ';')\n    })\n    source.putLoginHeader(header)\n  }\n}",
    "respondTime": 25101,
    "ruleBookInfo": {
      "author": "[property=\"og:novel:author\"]@content",
      "coverUrl": "[property=\"og:image\"]@content",
      "intro": "id.bookSummary@tag.content@textNodes\n@js:\nresult=\"  \"+result;",
      "kind": "class.book-cell@tag.p.1@ownText&&class.tag-small red@text\n##.*万字|·.*",
      "lastChapter": "class.gray ell@text##(\\d+-\\d+-\\d+\\s\\d+:\\d+)·(.*)##$2 • $1",
      "name": "[property=\"og:novel:book_name\"]@content",
      "tocUrl": "class.btn-normal red@href",
      "wordCount": "class.book-cell@tag.p.1@ownText##连载|完结"
    },
    "ruleContent": {
      "content": "<js>\n!(/google.com/).test(baseUrl) ? java.getString(\"id.acontent@html\") : decodeURIComponent(baseUrl.replace(/^.*?text=/, ''))\n</js>",
      "imageDecode": "",
      "imageStyle": "FULL",
      "nextContentUrl": "##url_next:'([^']*)'##$1###\n@js:\nvar isNew = /\\/(\\d+).html/.test(result);\nvar out = isNew ? '' : result;\nout",
      "replaceRegex": "##((?<=[\\u4e00-\\u9fa5“‘「（，])\\s+)?<!--\\s*\\（继续下一页\\）\\s*-->\\s*|((?<=[\\u4e00-\\u9fa5“‘「（，])\\s+)?\\（本章未完\\）\\s*|"
    },
    "ruleExplore": {
      "author": "class.book-author@ownText",
      "bookList": "class.book-ol book-ol-normal jsBooks@tag.li",
      "bookUrl": "a@href",
      "coverUrl": "img@data-src",
      "intro": "class.book-desc@text",
      "kind": "class.tag-small-group origin-right@tag.em.0@text&&\nclass.tag-small-group origin-right@tag.em.1@text",
      "name": "class.book-title@text",
      "wordCount": "class.tag-small blue@text"
    },
    "ruleReview": {},
    "ruleSearch": {
      "author": "class.book-author@textNodes",
      "bookList": "@js:\npath = 'class.book-ol book-ol-normal@tag.li';\nc = java.getElement(path);\nif (!c.length && result.includes('no-js')) {\n    res = java.startBrowserAwait(baseUrl, '等待至跳转，然后重搜');\n    java.setContent(res.body());\n    c = java.getElement(path);\n}\nc",
      "bookUrl": "tag.a.0@href",
      "checkKeyWord": "我的青春恋爱喜剧",
      "coverUrl": "a@href@js:\nvar id = result.match(/\\/(\\d+)\\.html/)[1];\n'https://www.linovelib.com/files/article/image/'+parseInt(id/1000)+'/'+id+'/'+id+'s.jpg';",
      "intro": "class.book-desc@text",
      "kind": "class.tag-small-group origin-right@tag.em@text",
      "name": "class.book-title-x@class.book-title@text"
    },
    "ruleToc": {
      "chapterList": "a.chapter-li-a, li.chapter-bar\n@js:\n//现实debug(尝试修复正文链接问题，和目录不全)\n//<<好友角色的我怎么可能大受欢迎>>第三卷12\n//<<我的青春恋爱喜剧>>\n//2022-8-19\n//原来的代码在源注释\n//2022-8-20修复https://w.linovelib.com/novel/2765.html目录加载失败\na = result\nlist = []\n\nfor (i = 0; i < a.length; i++) {\n    java.setContent(a[i])\n    b = java.getString(\"tag.a@href\")\n    if (b == \"javascript:cid(0)\") {\n        if (i == a.length - 1) {\n            java.setContent(a[i - 1])\n            c1 = java.getString(\"tag.a@href\")\n            if (c1 == \"\") {\n                java.setContent(a[i - 2])\n                c1 = java.getString(\"tag.a@href\")\n            }\n            d1 = java.ajax(\"https://w.linovelib.com\" + c1)\n            java.setContent(d1)\n            e1 = java.getElements(\"id.footlink\")\n\n            while (e1.indexOf(\"下一页\") != -1) {\n                f1 = d1.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n                g1 = String(f1).match(/url_next\\:'.*?html/)[0].replace(\"url_next:'\", \"\")\n                d1 = java.ajax(\"https://w.linovelib.com\" + g1)\n                java.setContent(d1)\n                e1 = java.getElements(\"id.footlink\")\n            }\n\n            f1 = d1.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n            g1 = String(f1).match(/url_next\\:'.*?html/)[0].replace(\"url_next:'\", \"\")\n            java.log(g1)\n            a[i] = String(a[i]).replace('javascript:cid(0)', g1)\n\n        } else {\n            java.setContent(a[i + 1])\n            c = java.getString(\"tag.a@href\")\n            if (c == \"\") {\n                java.setContent(a[i + 2])\n                c = java.getString(\"tag.a@href\")\n            }\n            d = java.ajax(\"https://w.linovelib.com\" + c)\n            e = d.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n            e = String(e).match(/url_previous\\:'.*?html/)[0].replace(\"url_previous:'\", \"\")\n            java.log(e)\n\n            a[i] = String(a[i]).replace('javascript:cid(0)', e)\n        }\n    }\n}\na",
      "chapterName": "text",
      "chapterUrl": "<js>\n/*\nif(result.indexOf(\"−\")!=-1){cid=parseInt(result.match(/\\d+(?=−)/)[0]);\nnex=cid+1;pre=cid-1;\nresult=result.replace(/(\\d+)−−/,pre).replace(/(\\d+)−/,nex)}\n*/\n/*\na=result\njava.log(a)\n*/\nb = java.getString(\"tag.a@href\")\n</js>",
      "isVolume": "@js:\na = java.getString(\"tag.a@href\")\nif (a == \"\") {\n    true\n} else {\n    false\n}",
      "updateTime": "tag.a@href"
    },
    "searchUrl": "<js>\npage == 1 ?\n    '/search.html?searchkey={{key}}&searchtype=all'\n    :\n\n    '/search/{{key}}_{{page}}.html'\n</js>",
    "weight": 0
  }
]
